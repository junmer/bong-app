/*! 2014 Baidu Inc. All Rights Reserved */
define("weekly/drawer",function(){function a(a,t,r,e,o,n){var i=e||12,s=n||"#fff",f=o||15,c=Math.min(t,r)||35,u=Math.max(t,r)||60,l=u+f,h=u+f,p=Raphael(a,2*u+2*f,2*u+2*f),x=[],m=[],v=2*Math.PI/i,y={stroke:s,"stroke-width":f,"stroke-linecap":"round"};Raphael.getColor.reset();for(var d=0;i>d;d++){var M=v*d-Math.PI/2,w=Math.cos(M),k=Math.sin(M);if(m[d]=1/i*d,x[d]=p.path([["M",l+c*w,h+c*k],["L",l+u*w,h+u*k]]).attr(y),"rainbow"==s)x[d].attr("stroke",Raphael.getColor())}var b;return function R(){m.unshift(m.pop());for(var a=0;i>a;a++)x[a].attr("opacity",m[a]);p.safari(),b=setTimeout(R,1e3/i)}(),function(){clearTimeout(b),p.remove()}}function t(){if(e)e.clear()}function r(a,t){var r=e=Raphael(a),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],n=function(){for(var a=[],t=7;t>0;t--)for(var r=0;24>r;r++)a.push(t);return a}(),i=["日","六","五","四","三","二","一"],s=["12am","1","2","3","4","5","6","7","8","9","10","11","12pm","1","2","3","4","5","6","7","8","9","10","11"];return r.dotchart(5,5,320,180,o,n,t,{symbol:"o",max:6,heat:!0,axis:"0 0 0 0",axisxstep:23,axisystep:6,axisxlabels:s,axisxtype:" ",axisytype:" ",axisylabels:i}),r}var e,exports={spinner:a,draw:r,clear:t};return exports}),define("weekly/main",function(require){function a(a){function r(a){var t=a.attr("cx"),r=a.attr("cy");a.attr({cx:500*Math.random(),cy:500*Math.random()}).animate(Raphael.animation({cx:t,cy:r},1e3,"bounce"))}function e(e){if(0===+e.status)t.draw(a,e.data).forEach(r);else if(302===+e.status)locatoin.herf=e.statusInfo;else alert("获取数据异常，请稍后重试")}$.ajax({url:"/bongweek/calories",data:{_:+new Date},success:e,dataType:"json"})}var t=require("./drawer");$(function(){a("bo-weekly-chart")})});